"use strict";(self.webpackChunkappGSV=self.webpackChunkappGSV||[]).push([[850],{3850:(N,l,e)=>{e.r(l),e.d(l,{ProductosModule:()=>L});var d=e(6895),u=e(1667),p=e(9849),g=e(5226),m=e.n(g),o=e(4650),f=e(6099),v=e(9828),h=e(8010),C=e(7284),P=e(4841),Z=e(6846),b=e(9536),_=e(7653),a=e(433);let T=(()=>{class r{constructor(){this.titulo="",this.formularioEnviado=new o.vpe,this.formularioCerrado=new o.vpe}ngOnInit(){this.cargarFormulario()}cargarFormulario(){console.log("entro formulario"),this.formulario=new a.cw({id:new a.NI(this.data?._id),producto:new a.NI(this.data?.producto,a.kI.required),descripcion:new a.NI(this.data?.descripcion,a.kI.required),stock:new a.NI(this.data?.stock,a.kI.required),precio:new a.NI(this.data?.precio,a.kI.required)})}grabar(){if(this.formulario.valid){const t=this.formulario.value;console.log(t),this.formularioEnviado.emit(t)}}cerrarFormulario(){this.formularioCerrado.emit()}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=o.Xpm({type:r,selectors:[["gsv-form"]],inputs:{data:"data"},outputs:{formularioEnviado:"formularioEnviado",formularioCerrado:"formularioCerrado"},decls:45,vars:2,consts:[[1,"container","col-md-10"],[1,"card","custom-card"],[1,"card-body"],[1,"form-container",3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],[1,"mb-3"],["for","producto",1,"form-label"],[1,"input-group"],["type","text","id","producto","formControlName","producto",1,"form-control"],[1,"input-group-text"],[1,"fas","fa-shopping-cart"],["for","descripcion",1,"form-label"],["type","text","id","descripcion","formControlName","descripcion",1,"form-control"],[1,"fas","fa-comment"],["for","stock",1,"form-label"],["type","text","id","stock","formControlName","stock",1,"form-control"],[1,"fas","fa-cubes"],["for","precio",1,"form-label"],["type","text","id","precio","formControlName","precio",1,"form-control"],[1,"fas","fa-dollar-sign"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn","btn-primary","me-2",3,"disabled"],[1,"fas","fa-save"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-times"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3),o.NdJ("ngSubmit",function(){return i.grabar()}),o.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"label",7),o._uU(8,"Producto"),o.qZA(),o.TgZ(9,"div",8),o._UZ(10,"input",9),o.TgZ(11,"span",10),o._UZ(12,"i",11),o.qZA()()()(),o.TgZ(13,"div",5)(14,"div",6)(15,"label",12),o._uU(16,"Descripci\xf3n"),o.qZA(),o.TgZ(17,"div",8),o._UZ(18,"input",13),o.TgZ(19,"span",10),o._UZ(20,"i",14),o.qZA()()()()(),o.TgZ(21,"div",4)(22,"div",5)(23,"div",6)(24,"label",15),o._uU(25,"Stock"),o.qZA(),o.TgZ(26,"div",8),o._UZ(27,"input",16),o.TgZ(28,"span",10),o._UZ(29,"i",17),o.qZA()()()(),o.TgZ(30,"div",5)(31,"div",6)(32,"label",18),o._uU(33,"Precio"),o.qZA(),o.TgZ(34,"div",8),o._UZ(35,"input",19),o.TgZ(36,"span",10),o._UZ(37,"i",20),o.qZA()()()()(),o.TgZ(38,"div",21)(39,"button",22),o._UZ(40,"i",23),o._uU(41," Grabar "),o.qZA(),o.TgZ(42,"button",24),o.NdJ("click",function(){return i.cerrarFormulario()}),o._UZ(43,"i",25),o._uU(44," Cancelar "),o.qZA()()()()()()),2&t&&(o.xp6(3),o.Q6J("formGroup",i.formulario),o.xp6(36),o.Q6J("disabled",i.formulario.invalid))},dependencies:[a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],styles:[".container[_ngcontent-%COMP%]{padding:10px 0}"]}),r})();function A(r,s){if(1&r){const t=o.EpF();o.TgZ(0,"gsv-search",5),o.NdJ("buscadorEnviado",function(n){o.CHM(t);const c=o.oxw();return o.KtG(c.buscarData(n))}),o.qZA()}}function y(r,s){if(1&r){const t=o.EpF();o.TgZ(0,"gsv-form",6),o.NdJ("formularioEnviado",function(n){o.CHM(t);const c=o.oxw();return o.KtG(c.grabarFormulario(n))})("formularioCerrado",function(){o.CHM(t);const n=o.oxw();return o.KtG(n.cerrarFormulario())}),o.qZA()}if(2&r){const t=o.oxw();o.Q6J("data",t.fila)}}const k=[{path:"",component:(()=>{class r{constructor(t){this.productoService=t,this.registros=[{_id:1,producto:"Laptop HP 15-dy27wm",descripcion:"i7 10Gen, 8ram, 15.6, 256ssd",stock:"12",precio:"740"},{_id:2,producto:"Laptop Asus VivaBook M415DA",descripcion:"AMD Ryzen 5, 8ram, 15.6, 256ssd",stock:"5",precio:"700"},{_id:3,producto:"iPad Apple A223",descripcion:" 10th Gen, 2022, 256GB",stock:"15",precio:"350"},{_id:4,producto:"Tablet Amazon Fire 8",descripcion:"10th Gen, 2ram, 8.5, 32GB",stock:"15",precio:"350"},{_id:5,producto:"PC Gamer Xeon 12",descripcion:"i7 10Gen, 16ram, 256ssd, RTX3060",stock:"15",precio:"1100"},{_id:6,producto:"CPU Azus Row 1 ",descripcion:"i7 12Gen, 32ram,  512ssd, RTX3060",stock:"15",precio:"1350"},{_id:7,producto:"Laptop Dell G5",descripcion:"i7 11Gen, 16ram, 15.6, 512ssd",stock:"15",precio:"990"},{_id:8,producto:"Laptop Legion 5",descripcion:"i7 12Gen, 8ram, 15.6, 256ssd",stock:"15",precio:"950"}],this.title="PRODUCTOS",this.metaDataColumns=[{field:"_id",title:"ID"},{field:"producto",title:"PRODUCTO"},{field:"descripcion",title:"DESCRIPCI\xd3N"},{field:"stock",title:"STOCK"},{field:"precio",title:"PRECIO"}],this.keypadButtons=[{icon:"fa-solid fa-cloud-arrow-down",color:"btn-success",accion:"download"},{icon:"fa-solid fa-plus",color:"btn-primary",accion:"NUEVO"}],this.data=[],this.totalRegistros=this.data.length,this.cargarProductos("")}cargarProductos(t){this.productoService.cargarProductos().subscribe(i=>{this.registros=i,t&&(console.log(t),this.registros=this.registros.filter(n=>n.producto.toLowerCase().includes(t.toLowerCase())),console.log(this.registros)),this.totalRegistros=this.registros.length,this.changePage(0)})}changePage(t){const i=p.N.PAGE_SIZE,n=i*t;this.data=this.registros.slice(n,n+i)}enviarAccion(t){switch(t){case"DOWNLOAD":break;case"NUEVO":this.formulario=!0,this.abrirFormulario()}}accionEditar(t){this.formulario=!0,console.log(t),this.abrirFormulario(t)}accionEliminar(t){console.log("Entro a pagelis"),this.productoService.eliminarProducto(t).subscribe(()=>{this.cargarProductos("")})}buscarData(t){console.log(t),this.cargarProductos(t.terminoBusqueda)}grabarFormulario(t){if(t)if(t.id){const i={...t,_id:t.id};this.productoService.actualizarProducto(t.id,i).subscribe(()=>{this.cargarProductos(""),this.formulario=!1,this.mostrarMensajeActualizacion()})}else{const i={...t};this.productoService.registrarProducto(i).subscribe(()=>{console.log("Dentro regsitrar"),console.log(i),this.cargarProductos(""),this.formulario=!1,this.mostrarMensajeA\u00f1adir()})}else this.formulario=!1}abrirFormulario(t=null){console.log("entro al abrir formulario producto"),this.fila=t}cerrarFormulario(){this.formulario=!1}mostrarMensajeActualizacion(){m().fire({title:"Registro actulaizado",icon:"info",timer:3e3,showConfirmButton:!1})}mostrarMensajeA\u00f1adir(){m().fire({title:"Registro a\xf1adido",icon:"info",timer:3e3,showConfirmButton:!1})}}return r.\u0275fac=function(t){return new(t||r)(o.Y36(f.U))},r.\u0275cmp=o.Xpm({type:r,selectors:[["gsv-page-list"]],decls:9,vars:7,consts:[[3,"buscadorEnviado",4,"ngIf"],[3,"data","formularioEnviado","formularioCerrado",4,"ngIf"],[3,"data","metaDataColumns","title","onClick","onClickEliminar"],[3,"length","onChangePage"],[3,"keypadButtons","onClick"],[3,"buscadorEnviado"],[3,"data","formularioEnviado","formularioCerrado"]],template:function(t,i){1&t&&(o.TgZ(0,"div"),o._UZ(1,"gsv-title"),o.YNc(2,A,1,0,"gsv-search",0),o.qZA(),o.YNc(3,y,1,1,"gsv-form",1),o.TgZ(4,"gsv-container")(5,"perfect-scrollbar")(6,"gsv-table",2),o.NdJ("onClick",function(c){return i.accionEditar(c)})("onClickEliminar",function(c){return i.accionEliminar(c)}),o.qZA()(),o.TgZ(7,"gsv-paginator",3),o.NdJ("onChangePage",function(c){return i.changePage(c)}),o.qZA()(),o.TgZ(8,"gsv-keypad-button",4),o.NdJ("onClick",function(c){return i.enviarAccion(c)}),o.qZA()),2&t&&(o.xp6(2),o.Q6J("ngIf",!i.formulario),o.xp6(1),o.Q6J("ngIf",i.formulario),o.xp6(3),o.Q6J("data",i.data)("metaDataColumns",i.metaDataColumns)("title",i.title),o.xp6(1),o.Q6J("length",i.totalRegistros),o.xp6(1),o.Q6J("keypadButtons",i.keypadButtons))},dependencies:[d.O5,v.r,h.a,C.e,P.Vv,Z.J,b.o,_.g,T]}),r})()}];let E=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[u.Bz.forChild(k),u.Bz]}),r})();var F=e(8366);let L=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[d.ez,E,F.m]}),r})()}}]);