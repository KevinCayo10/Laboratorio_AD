"use strict";(self.webpackChunkappGSV=self.webpackChunkappGSV||[]).push([[64],{9064:(P,c,t)=>{t.r(c),t.d(c,{VendedoresModule:()=>L});var m=t(6895),d=t(1667),f=t(5226),u=t.n(f),g=t(9849),o=t(4650),p=t(1434),v=t(9828),C=t(8010),h=t(7284),b=t(4841),Z=t(6846),E=t(9536),_=t(7653),n=t(433);let A=(()=>{class r{constructor(){this.titulo="",this.formularioEnviado=new o.vpe,this.formularioCerrado=new o.vpe}ngOnInit(){this.cargarFormulario()}cargarFormulario(){this.formulario=new n.cw({id:new n.NI(this.data?._id),nombresCompletos:new n.NI(this.data?.nombresCompletos,n.kI.required),direccion:new n.NI(this.data?.direccion,n.kI.required),fechaIngreso:new n.NI(this.data?.fechaIngreso,n.kI.required),celular:new n.NI(this.data?.celular)})}grabar(){if(this.formulario.valid){const e=this.formulario.value;console.log(e),this.formularioEnviado.emit(e)}}cerrarFormulario(){this.formularioCerrado.emit()}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=o.Xpm({type:r,selectors:[["gsv-form"]],inputs:{data:"data"},outputs:{formularioEnviado:"formularioEnviado",formularioCerrado:"formularioCerrado"},decls:45,vars:2,consts:[[1,"container","col-md-10"],[1,"card","custom-card"],[1,"card-body"],[1,"form-container",3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],[1,"mb-3"],["for","nombresCompletos",1,"form-label"],[1,"input-group"],["type","text","id","nombresCompletos","formControlName","nombresCompletos",1,"form-control"],[1,"input-group-text"],[1,"fas","fa-user"],["for","fechaIngreso",1,"form-label"],["type","date","id","fechaIngreso","formControlName","fechaIngreso",1,"form-control"],[1,"fas","fa-calendar-alt"],["for","direccion",1,"form-label"],["type","text","id","direccion","formControlName","direccion",1,"form-control"],[1,"fas","fa-map-marker-alt"],["for","celular",1,"form-label"],["type","text","id","celular","formControlName","celular",1,"form-control"],[1,"fas","fa-phone"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn","btn-primary","me-2",3,"disabled"],[1,"fas","fa-save"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-times"]],template:function(e,a){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3),o.NdJ("ngSubmit",function(){return a.grabar()}),o.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"label",7),o._uU(8,"Nombres Completos"),o.qZA(),o.TgZ(9,"div",8),o._UZ(10,"input",9),o.TgZ(11,"span",10),o._UZ(12,"i",11),o.qZA()()()(),o.TgZ(13,"div",5)(14,"div",6)(15,"label",12),o._uU(16,"Fecha Ingreso"),o.qZA(),o.TgZ(17,"div",8),o._UZ(18,"input",13),o.TgZ(19,"span",10),o._UZ(20,"i",14),o.qZA()()()()(),o.TgZ(21,"div",4)(22,"div",5)(23,"div",6)(24,"label",15),o._uU(25,"Direcci\xf3n"),o.qZA(),o.TgZ(26,"div",8),o._UZ(27,"input",16),o.TgZ(28,"span",10),o._UZ(29,"i",17),o.qZA()()()(),o.TgZ(30,"div",5)(31,"div",6)(32,"label",18),o._uU(33,"Celular"),o.qZA(),o.TgZ(34,"div",8),o._UZ(35,"input",19),o.TgZ(36,"span",10),o._UZ(37,"i",20),o.qZA()()()()(),o.TgZ(38,"div",21)(39,"button",22),o._UZ(40,"i",23),o._uU(41," Grabar "),o.qZA(),o.TgZ(42,"button",24),o.NdJ("click",function(){return a.cerrarFormulario()}),o._UZ(43,"i",25),o._uU(44," Cancelar "),o.qZA()()()()()()),2&e&&(o.xp6(3),o.Q6J("formGroup",a.formulario),o.xp6(36),o.Q6J("disabled",a.formulario.invalid))},dependencies:[n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u]}),r})();function T(r,s){if(1&r){const e=o.EpF();o.TgZ(0,"gsv-search",5),o.NdJ("buscadorEnviado",function(i){o.CHM(e);const l=o.oxw();return o.KtG(l.buscarData(i))}),o.qZA()}}function F(r,s){if(1&r){const e=o.EpF();o.TgZ(0,"gsv-form",6),o.NdJ("formularioEnviado",function(i){o.CHM(e);const l=o.oxw();return o.KtG(l.grabarFormulario(i))})("formularioCerrado",function(){o.CHM(e);const i=o.oxw();return o.KtG(i.cerrarFormulario())}),o.qZA()}if(2&r){const e=o.oxw();o.Q6J("data",e.fila)}}const I=[{path:"",component:(()=>{class r{constructor(e){this.vendedorService=e,this.registros=[{_id:1,nombresCompletos:"Juan P\xe9rez",correoElectronico:"juan.perez@mail.com",direccion:"Av. Quito",celular:"0991234567"},{_id:2,nombresCompletos:"Mar\xeda G\xf3mez",correoElectronico:"maria.gomez@mail.com",direccion:"Av. Guayaquil",celular:"0987654321"},{_id:3,nombresCompletos:"Pedro L\xf3pez",correoElectronico:"pedro.lopez@mail.com",direccion:"Av. Cuenca",celular:"0999876543"},{_id:4,nombresCompletos:"Ana Ram\xedrez",correoElectronico:"ana.ramirez@mail.com",direccion:"Av. Ambato",celular:"0987123456"},{_id:5,nombresCompletos:"Luisa Fern\xe1ndez",correoElectronico:"luisa.fernandez@mail.com",direccion:"Av. Riobamba",celular:"0996543210"},{_id:6,nombresCompletos:"Diego Cevallos",correoElectronico:"diego.cevallos@mail.com",direccion:"Av. Loja",celular:"0987654321"},{_id:7,nombresCompletos:"Sof\xeda Ruiz",correoElectronico:"sofia.ruiz@mail.com",direccion:"Av. Ibarra",celular:"0999876543"},{_id:8,nombresCompletos:"Carlos Castro",correoElectronico:"carlos.castro@mail.com",direccion:"Av. Esmeraldas",celular:"0987123456"}],this.title="CLIENTES",this.metaDataColumns=[{field:"_id",title:"ID"},{field:"nombresCompletos",title:"NOMBRES"},{field:"fechaIngreso",title:"FECHA DE INGRESO"},{field:"direccion",title:"DIRECCION"},{field:"celular",title:"CELULAR"}],this.keypadButtons=[{icon:"fa-solid fa-cloud-arrow-down",color:"btn-success",accion:"download"},{icon:"fa-solid fa-plus",color:"btn-primary",accion:"NUEVO"}],this.data=[],this.totalRegistros=this.data.length,this.cargarVendedores("")}cargarVendedores(e){this.vendedorService.cargarVendedores().subscribe(a=>{this.registros=a,e&&(console.log(e),this.registros=this.registros.filter(i=>i.nombresCompletos.toLowerCase().includes(e.toLowerCase())),console.log(this.registros)),this.totalRegistros=this.registros.length,this.changePage(0)})}changePage(e){const a=g.N.PAGE_SIZE,i=a*e;this.data=this.registros.slice(i,i+a)}enviarAccion(e){switch(e){case"DOWNLOAD":break;case"NUEVO":this.formulario=!0,this.abrirFormulario()}}accionEditar(e){this.formulario=!0,this.abrirFormulario(e)}accionEliminar(e){console.log("Entro a pagelis"),this.vendedorService.eliminarVendedor(e).subscribe(()=>{this.cargarVendedores("")})}buscarData(e){console.log(e),this.cargarVendedores(e.terminoBusqueda)}grabarFormulario(e){if(e)if(e.id){const a={...e};console.log("Entro al ID"),console.log(a),this.vendedorService.actualizarVendedor(e.id,a).subscribe(()=>{this.cargarVendedores(""),this.formulario=!1,this.mostrarMensajeActualizacion()})}else{const a={...e};this.vendedorService.registrarVendedor(a).subscribe(()=>{console.log("Dentro regsitrar"),console.log(a),this.cargarVendedores(""),this.formulario=!1,this.mostrarMensajeA\u00f1adir()})}else this.formulario=!1}abrirFormulario(e=null){this.fila=e}cerrarFormulario(){this.formulario=!1}mostrarMensajeActualizacion(){u().fire({title:"Registro actulaizado",icon:"info",timer:3e3,showConfirmButton:!1})}mostrarMensajeA\u00f1adir(){u().fire({title:"Registro a\xf1adido",icon:"info",timer:3e3,showConfirmButton:!1})}}return r.\u0275fac=function(e){return new(e||r)(o.Y36(p.o))},r.\u0275cmp=o.Xpm({type:r,selectors:[["gsv-page-list"]],decls:9,vars:7,consts:[[3,"buscadorEnviado",4,"ngIf"],[3,"data","formularioEnviado","formularioCerrado",4,"ngIf"],[3,"data","metaDataColumns","title","onClick","onClickEliminar"],[3,"length","onChangePage"],[3,"keypadButtons","onClick"],[3,"buscadorEnviado"],[3,"data","formularioEnviado","formularioCerrado"]],template:function(e,a){1&e&&(o.TgZ(0,"div"),o._UZ(1,"gsv-title"),o.YNc(2,T,1,0,"gsv-search",0),o.qZA(),o.YNc(3,F,1,1,"gsv-form",1),o.TgZ(4,"gsv-container")(5,"perfect-scrollbar")(6,"gsv-table",2),o.NdJ("onClick",function(l){return a.accionEditar(l)})("onClickEliminar",function(l){return a.accionEliminar(l)}),o.qZA()(),o.TgZ(7,"gsv-paginator",3),o.NdJ("onChangePage",function(l){return a.changePage(l)}),o.qZA()(),o.TgZ(8,"gsv-keypad-button",4),o.NdJ("onClick",function(l){return a.enviarAccion(l)}),o.qZA()),2&e&&(o.xp6(2),o.Q6J("ngIf",!a.formulario),o.xp6(1),o.Q6J("ngIf",a.formulario),o.xp6(3),o.Q6J("data",a.data)("metaDataColumns",a.metaDataColumns)("title",a.title),o.xp6(1),o.Q6J("length",a.totalRegistros),o.xp6(1),o.Q6J("keypadButtons",a.keypadButtons))},dependencies:[m.O5,v.r,C.a,h.e,b.Vv,Z.J,E.o,_.g,A]}),r})()}];let y=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[d.Bz.forChild(I),d.Bz]}),r})();var N=t(8366);let L=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[m.ez,y,N.m]}),r})()}}]);